{{- if .BuildTag}}
//go:build {{.BuildTag}}

{{end -}}
package {{.PackageName}}

import (
	"os/exec"
	{{- if .NeedsContext}}
	"context"
	"time"
	{{- end}}

	. "github.com/onsi/ginkgo/v2"
	. "github.com/onsi/gomega"
)

// Auto-generated by docsyncer from: {{.SourceFile}}
// Source type: {{.SourceType}}
// DO NOT EDIT â€” this file is regenerated on every run.

var _ = Describe("{{.DescribeBlock}}", {{if .Labels}}Label({{labelArgs .Labels}}), {{end}}func() {
	{{- if .ContextBlock}}
	Context("{{.ContextBlock}}", func() {
	{{- end}}

	{{- if .Tests}}
		{{- range .Tests}}

		It("{{.TestName}}", func() {
			{{- range $i, $step := .Steps}}
			{
			{{- if $step.Name}}
			By("{{$step.Name}}")
			{{- else}}
			By("Step {{add $i 1}}")
			{{- end}}
			{{$step.GoCode}}
			}
			{{- end}}
		})
		{{- end}}
	{{- else}}

		It("{{.TestName}}", func() {
			{{- range $i, $step := .Steps}}
			{
			{{- if $step.Name}}
			By("{{$step.Name}}")
			{{- else}}
			By("Step {{add $i 1}}")
			{{- end}}
			{{$step.GoCode}}
			}
			{{- end}}
		})
	{{- end}}

	{{- if .ContextBlock}}
	})
	{{- end}}
})
